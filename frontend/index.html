<!DOCTYPE html>
<html>

<body>
    <h1>
        User List
    </h1>
    <section id="userdata">
    </section>

    <script>
        fetch("http://localhost:4000/api/users", {
            method: "get"
        })
            .then(response => {
                if (!response.ok) {
                    throw new Error("Network response was not ok");
                }
                return response.json();
            })
            .then(data => {
                let userdata = `<div><span class="username">Name</span><span class="useremail">Email</span></div>`;
                data.forEach(user => {
                    userdata += `<div><span class="username">${user.name}</span><span class="useremail">${user.email}</span></div>`;
                });
                document.getElementById("userdata").innerHTML = userdata;
            })
            .catch(err => {
                console.error('There was a problem with the fetch operation:', error);
                alert(error.message);
            })
    </script>
</body>

</html>